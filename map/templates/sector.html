{% extends "layout.html" %}
{% load static %}
{% block title %}{{ sector.name }} - Details{% endblock %}
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

{% block content %}
  <div class="position-relative vh-100">
    <h2 class="position-absolute translate-middle-x px-4 py-2 " 
      style="top: 20px; left: 150px; font-size: 2rem; z-index: 10;">
      <a>ลุ่มแม่น้ำปิง</a>
    </h2>
    <h2 class="position-absolute end-0 start-50 translate-middle-x px-4 py-2 shadow rounded-pill" 
        style="top: 20px; background-color: rgba(255, 255, 255, 0.55); font-size: 1rem; z-index: 10;">
        {% if month %}
          <p class="card-text">
            <strong>ผลการ Predict</strong> สำหรับลุ่มแม่น้ำ <strong>{{ sector.name }}</strong> (ID: {{ sector.id }})  
            เดือนที่ <span class="badge bg-success">{{ month }}</span>
          </p>
        {% else %}
        <form method="get" id="monthForm">
          <div class="row row-cols-12 ">
            <div class="col">
            </div>
            <div class="col-3">
              <button type="submit" name="month" value="6" class="btn" style="font-size: 1.2rem;">มิถุนายน</button>
            </div>
            <div class="col">
            </div>
            <div class="col-3">
              <button type="submit" name="month" value="8" class="btn"style="font-size: 1.2rem;">กรกฎาคม</button>
            </div>
            <div class="col">
            </div>
            <div class="col-3">
              <button type="submit" name="month" value="10" class="btn"style="font-size: 1.2rem;">สิงหาคม</button>
            </div>
            
          </div>
        </form>
        {% endif %}
      <h2 class="position-absolute translate-middle-x px-4 py-2 " 
        style="top: 35px; right: 50px; font-size: 1rem; z-index: 10;">
        <a href="{% url 'map_view'%}">< Map</a>
      </h2>
    </h2>
    <div id="map" class="border rounded position-relative top-0 start-0 w-100 h-100" style="height: 80vh; z-index: 1;"></div>
  </div>

  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}

{% block extra_js %}
<!-- Pass the static file path as a JavaScript variable -->
<script>
  var kmzFilePath = "{% static 'kmz/Thaibasin.kmz' %}";
</script>
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
<script src="https://unpkg.com/leaflet-kmz@latest/dist/leaflet-kmz.js"></script>
<script src="{% static 'js/sector.js' %}"></script>
{% endblock %}
